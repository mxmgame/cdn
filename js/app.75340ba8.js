(function(e){function t(t){for(var a,r,u=t[0],s=t[1],c=t[2],l=0,d=[];l<u.length;l++)r=u[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({home:"home"}[e]||e)+"."+{"chunk-33a3715e":"10f5751b","chunk-248172ca":"b674b0ed","chunk-3d765cf0":"670d47ff",home:"35501316"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-33a3715e":1,"chunk-248172ca":1,home:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({home:"home"}[e]||e)+"."+{"chunk-33a3715e":"8bf9b755","chunk-248172ca":"235bce26","chunk-3d765cf0":"31d6cfe0",home:"60a41e08"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){c=d[u],l=c.getAttribute("data-href");if(l===a||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.request=a,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=o;var y=document.getElementsByTagName("head")[0];y.appendChild(p)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e),c=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},1075:function(e,t,n){"use strict";var a,r=n("e814"),o=n.n(r),i=n("795b"),u=n.n(i),s=n("59ad"),c=n.n(s),l=(n("7f7f"),n("6b54"),n("f5766"),n("96cf"),n("3b8d")),d=n("d225"),p=n("b0b4"),y=n("bd86"),f=[{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"changeContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"},{name:"extraData",type:"bytes"}],name:"dice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"adminWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"value",type:"uint256"},{name:"_token",type:"address"},{name:"extraData",type:"bytes"}],name:"receiveApproval",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"changeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newAddress",type:"address"}],name:"changeTokenAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"commission",type:"uint256"}],name:"changeCommission",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"addr",type:"address"}],name:"balance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"token",type:"address"},{name:"cb",type:"uint256"},{name:"commission",type:"uint256"}],payable:!0,stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes"},{indexed:!1,name:"who",type:"address"},{indexed:!1,name:"win",type:"bool"},{indexed:!1,name:"chosen",type:"bytes1"},{indexed:!1,name:"result",type:"uint256"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"winValue",type:"uint256"}],name:"DiceResult",type:"event"}],b=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"burn",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_value",type:"uint256"}],name:"burnFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"initialSupply",type:"uint256"},{name:"tokenName",type:"string"},{name:"tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Burn",type:"event"}],m=n("f121"),h=n("901e"),v=n.n(h),g=n("e573");if("undefined"!==typeof window.ethereum||"undefined"!==typeof window.web3){var w=window.ethereum||window.web3.currentProvider;a=new g(w)}try{window.web33=a.utils}catch(M){alert(" open MetaMask")}var k="1000000000000000000",x=v()(k),A=function(){function e(){Object(d["a"])(this,e),Object(y["a"])(this,"alldata",[]),Object(y["a"])(this,"rangData",[]),Object(y["a"])(this,"mydata",[]),Object(y["a"])(this,"_instance",null),Object(y["a"])(this,"decimals",v()(18)),Object(y["a"])(this,"userAddress",window.web3.currentProvider.selectedAddress),Object(y["a"])(this,"abi",f),Object(y["a"])(this,"contractAddr",m["a"].contractAddr),Object(y["a"])(this,"tokenContractAddr",m["a"].tokenContractAddr),Object(y["a"])(this,"tokenAbi",b),Object(y["a"])(this,"contract",new a.eth.Contract(this.abi,this.contractAddr)),Object(y["a"])(this,"contractDeployBlockHeight",4107412),Object(y["a"])(this,"currentBlock",0),Object(y["a"])(this,"inited",!1),Object(y["a"])(this,"tokenContract",new a.eth.Contract(this.tokenAbi,this.tokenContractAddr)),Object(y["a"])(this,"delDate","")}return Object(p["a"])(e,[{key:"init",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.currentBlock){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.eth.getBlockNumber().then(function(e){t.currentBlock=e});case 4:this.inited||(this.inited=!0,this.initDice(this.currentBlock-1));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initDice",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;this.contract.getPastEvents("DiceResult",{fromBlock:t-r,toBlock:t},function(o,i){if(!o){for(var u=i.length-1;u>=0;u--){if(n.mydata.length>=20&&n.alldata.length>=20)return;n.alldata.length<20&&n.alldata.push(e.event2obj(i[u])),n.mydata.length<20&&i[u].returnValues.who===a.utils.toChecksumAddress(window.web3.currentProvider.selectedAddress)&&n.mydata.push(e.event2obj(i[u]))}t-r>n.contractDeployBlockHeight&&n.initDice(t-r)}})}},{key:"approveAndCall",value:function(e,t,n){var r,o=a.utils.toWei(String(e),"ether"),i=a.utils.randomHex(31).substring(2).padStart(62,"0");r=t<=15?"0x0"+t.toString(16):"0x"+t.toString(16);var u=a.utils.hexToBytes(r+i);try{this.tokenContract.methods.approveAndCall(this.contractAddr,a.utils.toHex(o),u).send({from:window.web3.currentProvider.selectedAddress,to:this.tokenContractAddr},function(e,t){if(e)throw n(e,null),e}).catch(function(e){alert(e)})}catch(s){alert(s)}}},{key:"AllBets",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("allbets............."),t.next=3,this.init();case 3:this.contract.events.DiceResult({fromBlock:"latest"},function(t,o){if(console.debug(t,o),r.delDate!==o.transactionHash){if(r.delDate=o.transactionHash,!t){var i=e.event2obj(o);r.alldata.push(i),r.alldata.length>=20&&r.alldata.shift(),i.name===a.utils.toChecksumAddress(window.web3.currentProvider.selectedAddress)&&(n(t,o),r.mydata.push(i),r.alldata.length>=20&&r.alldata.shift())}}else r.delDate=o.transactionHash});case 4:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}()},{key:"rangkList",value:function(e){var t=this;a.eth.getBlockNumber().then(function(n){var a=((new Date).getTime()/1e3-new Date((new Date).setHours(0,0,0,0))/1e3)/15|0;console.debug(n,a),t.contract.events.DiceResult({fromBlock:n-a},function(n,a){if(!n&&null!=a)if(console.debug(a),t.rangData.length>=10)t.rangData.shift();else{var r={};r.name=String(a.returnValues.who),r.Betting=v()(a.returnValues.value).div(x),r.Profit=v()(a.returnValues.winValue).div(x),console.log(r),t.rangData[r.name]?(t.rangData[r.name].Profit=(c()(r.Profit)+c()(t.rangData[r.name].Profit)).toFixed(2),t.rangData[r.name].Betting=(c()(r.Betting)+c()(t.rangData[r.name].Betting)).toFixed(2)):t.rangData[r.name]=r,e(t.rangData)}})})}},{key:"takeWithdraw",value:function(){console.debug(window.web3.currentProvider.selectedAddress),this.contract.methods.withdraw().send({from:window.web3.currentProvider.selectedAddress,to:this.contractAddr}).then(function(e){console.debug(e)})}},{key:"userBalance",value:function(){var e=this;return new u.a(function(t,n){e.contract.methods.balance(window.web3.currentProvider.selectedAddress).call({from:window.web3.currentProvider.selectedAddress,to:e.contractAddr},function(e,a){if(e&&n(e),a&&0!==a){console.debug(a);var r=v()(a).div(k);if(console.debug("用户赢的钱"+r),e)return e;t(r)}})})}},{key:"balanceOf",value:function(){var e=this;return new u.a(function(t,n){e.tokenContract.methods.balanceOf(window.web3.currentProvider.selectedAddress).call({from:window.web3.currentProvider.selectedAddress,to:e.contractAddr},function(e,a){e&&n(e),a||(a="0");var r=c()(v()(a).div(x)).toFixed(2);console.debug("用户的小狐狸钱"+r),t(r)})})}},{key:"dice",value:function(e,t,n){var r,o=a.utils.toWei(String(e),"ether"),i=a.utils.randomHex(31).substring(2).padStart(62,"0");r=t<=15?"0x0"+t.toString(16):"0x"+t.toString(16);var u=a.utils.hexToBytes(r+i);this.contract.methods.dice(o,u).send({from:window.web3.currentProvider.selectedAddress,to:this.contractAddr},function(e,t){if(e)throw n(e,null),e})}},{key:"testSign",value:function(){}}],[{key:"event2obj",value:function(e){var t={};t.data=e.blockNumber,t.name=e.returnValues.who,t.transactionHash=e.transactionHash,t.Betting=v()(e.returnValues.value).div(x);for(var n=o()(e.returnValues.chosen),a=[],r=1;r<=6;r++)n%2===1&&a.push(r),n>>=1;return t.Quiz=e.returnValues.result+"/"+a.join(","),t.Profit=v()(e.returnValues.winValue).div(x),t.Odds=(6/a.length*.98).toFixed(2),t}},{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();console.debug("web3 加载");t["a"]=A.getInstance()},2:function(e,t){},3:function(e,t){},"33ec":function(e,t,n){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i={},u=i,s=(n("5c0b"),n("2877")),c=Object(s["a"])(u,r,o,!1,null,null,null),l=c.exports,d=n("8c4f");a["default"].use(d["a"]);var p=new d["a"]({routes:[{path:"/",name:"home",component:function(){return n.e("home").then(n.bind(null,"4c71"))},redirect:"/content",children:[{path:"content",name:"content",component:function(){return Promise.all([n.e("chunk-33a3715e"),n.e("chunk-248172ca")]).then(n.bind(null,"4c9b"))}},{path:"sizePage",name:"size",component:function(){return Promise.all([n.e("chunk-33a3715e"),n.e("chunk-3d765cf0")]).then(n.bind(null,"fdab"))}}]}]}),y=n("2f62");a["default"].use(y["a"]);var f=new y["a"].Store({state:{},mutations:{},actions:{}}),b=n("e069"),m=n.n(b),h=n("5176"),v=n.n(h),g=n("a925");n("795b"),n("ac6a"),n("28a5"),n("20d6"),n("f499"),n("a481"),n("6762"),n("2fdb"),n("75fc"),n("cebc"),n("7f7f"),n("a4bb"),n("c5f6"),n("b6d0"),n("774e");(function(){document.addEventListener})(),function(){document.removeEventListener}();var w=function(e){return localStorage.getItem(e)||""},k={home:"首页",success:"恭喜您猜对",Nosucces:"很遗憾！下次再接再厉",rule:"怎么玩",Abonus:"分红",Invite:"邀请",login:"登录",lang:"语言",take:"提",Odds:"赔率",WinChance:"胜率",BetAmount:"投注金额",Profit:"收益",Betting:"投注",BettingZ:"投注中",rangk:"今日排行榜",rangkteitle1:"当前总投注量",Ranking:"排名",Player:"玩家",Tiem:"块高",Total:"总投额",reward:"收益",Quiz:"幸运数/竞猜",AllBets:"所有的投注",Mybet:"我的投注",copy:"成功复制到剪切板,赶紧分享给好友吧！",BalanceBet:"余额投注",ruleText1:"1、您需要一个以太坊帐户，并在计算机上安装MetaMask软件才能玩游戏。| 2、请确保您的以太坊帐户有足够的资金（至少1MXM）来玩游戏 | 3、选择您预期的骰子点数之后投注（这也将改变赔率和中奖概率）",ruleText2:"4、输入期望的下注金额，点击投注按钮，并批准MetaMask交易请求 | 5、如果幸运数字不在您选择的数字内，您将收到付款请求 | 6、每局游戏结束后，无论结果如何，您都将获得与您下注的MXM金额相对应的XX奖励 ",ruleText3:" 7、所有规则都是由我们的智能合约编写并执行以确保公平。所有结果都可以证明是公平的，并且可以被验证 | 8、如果您有任何疑问，可以加入我们的TelegramXX寻求帮助"},x={rule:"rule",success:"Congratulations on your guess",Nosucces:"Unfortunately! Do it again next time",Abonus:"Abonus",Invite:"Invite",login:"login",lang:"language",take:"withdraw",Odds:"Odds",WinChance:"Win Chance",BetAmount:"Bet Amount",Profit:"Profit",Betting:"Betting",BettingZ:"Betting...",rangk:"Today's leaderboard",rangkteitle1:"Current total bet amount",Ranking:"Ranking",Player:"Player",Tiem:"blockNumber",Total:"Total",reward:"Profit",Quiz:"LuckyNumber/Quiz",AllBets:"All Bets",Mybet:"My bet",copy:"Copy it to the clipboard successfully and share it with your friends!",BalanceBet:"Balance bet",ruleText1:"1. You need an ETF account and install MetaMask software on your computer to play games. | 2. Make sure that your ETF account has enough money (at least 1MXM) to play the game | 3. Choose the number of dice points you expect to bet on (which will also change the odds and winning probability)",ruleText2:"4. Enter the expected amount of the bet, click the bet button, and approve the MetaMask transaction request | 5. If the lucky number is not in the number you choose, you will receive the payment request | 6. After each game, regardless of the result, you will receive XX reward corresponding to the amount of the MXM you bet.",ruleText3:"7. All rules are written and executed by our smart contract to ensure fairness. All the results can prove fair and can be verified | 8. If you have any questions, you can join our Telegram XX for help."},A=n("cea3"),M=n("641c");a["default"].use(g["a"]);var B=navigator.language,O=("zh-CN"===B||"en-US"===B)&&B,j=O||w("local")||"zh-CN";a["default"].config.lang=j,a["default"].locale=function(){};var P={"zh-CN":v()(A["a"],k),"en-US":v()(M["a"],x)},C=new g["a"]({locale:j,messages:P}),D=C,T=n("4eb5"),_=n.n(T),S=(n("dcad"),n("33ec"),n("77ed")),E=n.n(S);n("1075");a["default"].use(E.a),a["default"].use(_.a),m.a.Message.config({top:80}),a["default"].prototype.$Message=m.a.Message,p.beforeEach(function(e,t,n){m.a.LoadingBar.start(),n()}),p.afterEach(function(e){m.a.LoadingBar.finish()}),a["default"].use(m.a,{i18n:function(e,t){return D.t(e,t)}}),a["default"].config.productionTip=!1,new a["default"]({router:p,store:f,iView:m.a,i18n:D,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(e,t,n){},f121:function(e,t,n){"use strict";var a="/api/";t["a"]={baseURL:a,desiredNetwork:"1",contractAddr:"0xdEc7Da48E015619b606E2E374FB354e59E402993",tokenContractAddr:"0x8e766f57f7d16ca50b4a0b90b88f6468a09b0439"}}});
//# sourceMappingURL=app.75340ba8.js.map